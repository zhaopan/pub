# 02 | æƒé™ä¸ç”¨æˆ·ç®¡ç†

æœ¬æ¨¡å—æ•´ç†äº† Linux ä¸­ä¸æ–‡ä»¶æƒé™ã€ç”¨æˆ·/ç»„ç®¡ç†ã€sudo æƒé™ç›¸å…³çš„å‘½ä»¤ä¸é…ç½®æ“ä½œï¼Œé€‚ç”¨äºæœ¬åœ°å¼€å‘ç¯å¢ƒã€å®‰å…¨æ’æŸ¥ã€æœåŠ¡å™¨åˆå§‹åŒ–ç­‰åœºæ™¯ã€‚

> ğŸ“Œ æ³¨ï¼šéƒ¨åˆ†å‘½ä»¤æ¥æºäºå†å²é¡¹ç›®æ­å»ºã€çº¿ä¸Šè°ƒè¯•æˆ–å¤šç”¨æˆ·æµ‹è¯•ç¯å¢ƒï¼Œè¯·å®Œæ•´ä¿ç•™å‘½ä»¤ä¸æ³¨é‡Šï¼

---

## ğŸ” æ–‡ä»¶ä¸ç›®å½•æƒé™

```bash
ls -l /etc/passwd                    # æŸ¥çœ‹æƒé™ä¿¡æ¯ï¼ˆæ–‡ä»¶æ‰€æœ‰è€…ã€ç»„ã€æƒé™ä½ï¼‰
chmod +x run.sh                      # æ·»åŠ æ‰§è¡Œæƒé™
chmod 644 config.yml                 # è®¾ç½®ä¸ºï¼šrw-r--r--
chmod -R 755 /var/www                # é€’å½’è®¾ç½®ç›®å½•æƒé™
chown root:root config.yml           # ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ä¸º root ç”¨æˆ·å’Œç»„
chown -R www-data:www-data ./html    # ç½‘ç«™ç›®å½•æ‰¹é‡æˆæƒç»™ Nginx ç”¨æˆ·
```

---

## ğŸ‘¥ ç”¨æˆ·ä¸ç»„ç®¡ç†

```bash
useradd -m devuser                 # åˆ›å»ºç”¨æˆ·å¹¶ç”Ÿæˆ home ç›®å½•
passwd devuser                     # è®¾ç½®ç”¨æˆ·å¯†ç 
usermod -aG sudo devuser           # å°†ç”¨æˆ·æ·»åŠ è‡³ sudo ç»„
groupadd developers                # åˆ›å»ºç”¨æˆ·ç»„
gpasswd -a eric developers         # å°† eric æ·»åŠ åˆ° developers ç»„
id devuser                         # æŸ¥çœ‹ç”¨æˆ·çš„ UIDã€GID å’Œé™„å±ç»„
```

---

## âš™ï¸ sudo æƒé™ä¸ææƒé…ç½®

```bash
sudo visudo                        # å®‰å…¨ç¼–è¾‘ sudoers æ–‡ä»¶ï¼ˆæ¨èç”¨ visudoï¼‰
sudo cat /etc/sudoers              # æŸ¥çœ‹å®Œæ•´æƒé™è§„åˆ™
```

### ğŸ“ ç¤ºä¾‹ï¼šå…è®¸ devuser å…å¯†ç æ‰§è¡ŒæŸè„šæœ¬

```bash
devuser ALL=(ALL) NOPASSWD: /usr/local/bin/deploy.sh
```

---

## ğŸ§  å†å²æ³¨é‡Šè¯´æ˜

- `chmod +x` æ˜¯æ—©æœŸæ‰§è¡Œ shell è„šæœ¬æ—¶å¸¸çŠ¯é”™çš„åœ°æ–¹ï¼ˆæŠ¥é”™ï¼šPermission deniedï¼‰
- `usermod -aG sudo xxx` åœ¨æ–°ç”¨æˆ·æ— æ³• sudo çš„åˆå§‹åŒ–è„šæœ¬ä¸­è‡³å…³é‡è¦
- `chown -R www-data` æ›¾ç”¨äºæ‰‹åŠ¨éƒ¨ç½² Laravel é¡¹ç›®ç›®å½•æƒé™ä¿®å¤
- `gpasswd` æ›¿ä»£äº†æ—§çš„ `adduser username group` çš„æ–¹å¼ï¼Œæ›´ä¸ºå‡†ç¡®

---

> ğŸ“ ä¸‹ä¸€æ¨¡å—ï¼šç½‘ç»œè°ƒè¯•ä¸è¿œç¨‹ç®¡ç† â†’ [03-network-tools.md](./03-network-tools.md)
