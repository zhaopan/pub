# 02 | æ•°æ®å·æŒ‚è½½ä¸é…ç½®æ˜ å°„

æœ¬æ¨¡å—ä»‹ç»å¦‚ä½•é€šè¿‡ Docker çš„ `-v` å‚æ•°å®ç°æœ¬åœ°æ–‡ä»¶ä¸å®¹å™¨å†…éƒ¨ç›®å½•çš„æ•°æ®æŒ‚è½½ï¼Œé€‚ç”¨äºæŒä¹…åŒ–æ•°æ®ã€æ³¨å…¥é…ç½®æ–‡ä»¶ç­‰åœºæ™¯ã€‚

---

## ğŸ“Œ ä½¿ç”¨åœºæ™¯

- å°†æœ¬åœ°é…ç½®æ–‡ä»¶æ˜ å°„è‡³å®¹å™¨ä¸­ï¼Œå®ç°çµæ´»é…ç½®æ›¿æ¢
- æŒä¹…åŒ–å®¹å™¨å†…æ•°æ®åº“æˆ–æ—¥å¿—æ•°æ®ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±
- å¤šå®¹å™¨å…±äº«æŒ‚è½½ç›®å½•ï¼Œæå‡åä½œæ•ˆç‡

---

## ğŸ¯ ç›®æ ‡

- æŒæ¡ Volume çš„æŒ‚è½½è¯­æ³•ä¸ä¸¤ç§æ¨¡å¼ï¼ˆåŒ¿åå· / æ˜¾å¼æŒ‚è½½ï¼‰
- å®è·µæŒ‚è½½æœ¬åœ°é…ç½®æ–‡ä»¶åˆ°å®¹å™¨ä¸­
- æ¼”ç¤ºæŒ‚è½½ç›®å½•çš„åŒå‘å¯è¯»å†™æ•ˆæœ

---

## ğŸ“¦ ç¤ºä¾‹ 1ï¼šæŒ‚è½½æœ¬åœ° nginx é…ç½®æ–‡ä»¶

### ğŸ”§ æ“ä½œå‘½ä»¤

```bash
docker run -d \
  --name nginx-config \
  -p 8081:80 \
  -v $(pwd)/nginx.conf:/etc/nginx/nginx.conf \
  nginx
```

### å‚æ•°è¯´æ˜

| å‚æ•°                    | å«ä¹‰                                            |
| ----------------------- | ----------------------------------------------- |
| `-v`                    | æœ¬åœ°è·¯å¾„æŒ‚è½½è‡³å®¹å™¨å†…è·¯å¾„ï¼ˆ`ä¸»æœºè·¯å¾„:å®¹å™¨è·¯å¾„`ï¼‰ |
| `$(pwd)/nginx.conf`     | å½“å‰ç›®å½•ä¸‹é…ç½®æ–‡ä»¶                              |
| `/etc/nginx/nginx.conf` | Nginx é»˜è®¤ä¸»é…ç½®è·¯å¾„                            |

### ğŸ§ª éªŒè¯æ–¹å¼

- ä¿®æ”¹æœ¬åœ°é…ç½®åï¼Œé‡å¯å®¹å™¨æŸ¥çœ‹å˜æ›´æ•ˆæœ
- æµè§ˆå™¨è®¿é—® `http://localhost:8081`

---

## ğŸ“¦ ç¤ºä¾‹ 2ï¼šæŒ‚è½½ç›®å½•ç”¨äºæ•°æ®æŒä¹…åŒ–

```bash
docker run -d \
  --name mysql-volume \
  -e MYSQL_ROOT_PASSWORD=123456 \
  -v $(pwd)/mysql-data:/var/lib/mysql \
  mysql:8.0
```

å®¹å™¨å†…çš„æ•°æ®åº“æ•°æ®å°†æŒä¹…åŒ–ä¿å­˜åœ¨æœ¬åœ° `mysql-data` ç›®å½•ä¸­ã€‚

---

## ğŸš¨ å¸¸è§é—®é¢˜æ’æŸ¥

| é—®é¢˜æè¿°       | æ’æŸ¥å»ºè®®                                       |
| -------------- | ---------------------------------------------- |
| é…ç½®æœªç”Ÿæ•ˆ     | æ£€æŸ¥æŒ‚è½½è·¯å¾„æ˜¯å¦æ­£ç¡®ã€é…ç½®è¯­æ³•æ˜¯å¦å…¼å®¹é•œåƒç‰ˆæœ¬ |
| å®¹å™¨æ— æ³•å¯åŠ¨   | å®¿ä¸»æœºç›®å½•æƒé™ä¸å½“ï¼Œå¯å°è¯• `chmod -R 777` æµ‹è¯• |
| æŒ‚è½½æ–‡ä»¶ä¸ºåªè¯» | åŠ å…¥ `:rw` æŒ‡å®šå¯è¯»å†™ï¼š`-v xxx:/path:rw`       |

---

## ğŸ§  æ‹“å±•çŸ¥è¯†ç‚¹

- åŒ¿åå·åˆ›å»ºï¼š`docker run -v /data busybox`
- æŸ¥çœ‹æ‰€æœ‰ Volumeï¼š`docker volume ls`
- æ¸…ç†æœªä½¿ç”¨ Volumeï¼š`docker volume prune`

---

> ğŸ“ ä¸‹ä¸€æ¨¡å—ï¼šè‡ªå®šä¹‰é•œåƒæ„å»ºä¸ Dockerfile â†’ [03-custom-dockerfile.md](./03-custom-dockerfile.md)
